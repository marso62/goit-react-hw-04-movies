{"version":3,"sources":["services/API_themovidb.js","components/PageError.js","components/views/PopularFilms.js","components/views/HomePage/HomePage.js"],"names":["axios","defaults","baseURL","API_KEY","fetchFilmReviews","movieId","a","get","url","then","res","data","fetchPopularFilms","fetch","json","fetchFilmDetails","fetchFilmWithQuery","searchQuery","fetchFilmActors","Error","message","PopularFilms","films","location","className","map","id","title","to","pathname","state","from","MoviesPage","error","loading","popularFilms","this","setState","API_themoviedb","results","catch","finally","props","length","Component"],"mappings":"uLAEAA,IAAMC,SAASC,QAAU,+BAEzB,IAEMC,EAAU,mCAsBVC,EAAgB,uCAAG,WAAOC,GAAP,SAAAC,EAAA,+EAChBC,EAAI,UAAD,OAAWF,EAAX,4BAAsCF,KADzB,2CAAH,sDAIhBI,EAAG,uCAAG,WAAOC,GAAP,SAAAF,EAAA,wFAEDN,IAAMO,IAAIC,GAAKC,MAAK,SAACC,GAAD,OAASA,EAAIC,SAFhC,mGAAH,sDAQM,KACbC,kBAjCwB,WACxB,OAAOC,MAAM,GAAD,OALQ,+BAKR,uCACqCV,IAC/CM,MAAK,SAACC,GAAD,OAASA,EAAII,WA+BpBC,iBAtBuB,SAACV,GACxB,OAAOE,EAAI,UAAD,OAAWF,EAAX,oBAA8BF,KAsBxCa,mBA7ByB,SAACC,GAC1B,OAAOV,EAAI,yBAAD,OACiBJ,EADjB,kBACkCc,EADlC,iCA6BVC,gBApBsB,SAACb,GACvB,OAAOE,EAAI,UAAD,OAAWF,EAAX,4BAAsCF,KAoBhDC,qB,gCC7CF,gBAKee,IAHD,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACf,OAAO,oCAAOA,O,gCCHhB,wBAsBeC,IAnBM,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAC7B,OACE,oBAAIC,UAAU,kBAAd,SACGF,EAAMG,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACT,6BACE,cAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAaH,GACrBI,MAAO,CAAEC,KAAMR,IAHnB,SAMGI,KAPID,U,yJCAIM,E,4MACnBF,MAAQ,CACNG,MAAO,KACPC,SAAS,EACTC,aAAc,I,uDAGhB,WAAqB,IAAD,OAClBC,KAAKC,SAAS,CAAEH,SAAS,IACzBI,IAAe1B,oBAEZH,MAAK,gBAAG8B,EAAH,EAAGA,QAAH,OAAiB,EAAKF,SAAS,CAAEF,aAAcI,OACpDC,OAAM,SAACP,GAAD,OAAW,EAAKI,SAAS,CAAEJ,aACjCQ,SAAQ,kBAAM,EAAKJ,SAAS,CAAEH,SAAS,S,oBAG5C,WAAU,IAAD,EACyBE,KAAKN,MAA7BK,EADD,EACCA,aAAcF,EADf,EACeA,MACdV,EAAaa,KAAKM,MAAlBnB,SACR,OACE,qCACGU,GAAS,cAAC,IAAD,CAAOb,QAAO,iBAAYa,EAAMb,WAE1C,gDAECe,EAAaQ,OAAS,GACrB,cAAC,IAAD,CAAcrB,MAAOa,EAAcZ,SAAUA,W,GA1BfqB","file":"static/js/home-page.c3342a32.chunk.js","sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\n\nconst BaseApiMovies = \"https://api.themoviedb.org/3\";\n\nconst API_KEY = \"1d916c0c07d2a239e775f6755e7dcee9\";\n\nconst fetchPopularFilms = () => {\n  return fetch(\n    `${BaseApiMovies}/trending/movie/day?api_key=${API_KEY}`\n  ).then((res) => res.json());\n};\n\nconst fetchFilmWithQuery = (searchQuery) => {\n  return get(\n    `/search/movie?api_key=${API_KEY}&query=${searchQuery}&page=1&include_adult=false`\n  );\n};\n\nconst fetchFilmDetails = (movieId) => {\n  return get(`/movie/${movieId}?api_key=${API_KEY}`);\n};\n\nconst fetchFilmActors = (movieId) => {\n  return get(`/movie/${movieId}/credits?api_key=${API_KEY}`);\n};\n\nconst fetchFilmReviews = async (movieId) => {\n  return get(`/movie/${movieId}/reviews?api_key=${API_KEY}`);\n};\n\nconst get = async (url) => {\n  try {\n    return axios.get(url).then((res) => res.data);\n  } catch (err) {\n    throw err;\n  }\n};\n\nexport default {\n  fetchPopularFilms,\n  fetchFilmDetails,\n  fetchFilmWithQuery,\n  fetchFilmActors,\n  fetchFilmReviews,\n};\n","import React from \"react\";\n\nconst Error = ({ message }) => {\n  return <div> {message}</div>;\n};\nexport default Error;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst PopularFilms = ({ films, location }) => {\n  return (\n    <ul className=\"popularFilmList\">\n      {films.map(({ id, title }) => (\n        <li key={id}>\n          <Link\n            to={{\n              pathname: `/movies/${id}`,\n              state: { from: location },\n            }}\n          >\n            {title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default PopularFilms;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport API_themoviedb from \"../../../services/API_themovidb\";\nimport Error from \"../../PageError\";\nimport PopularFilms from \"../PopularFilms\";\n\nexport default class MoviesPage extends Component {\n  state = {\n    error: null,\n    loading: false,\n    popularFilms: [],\n  };\n\n  componentDidMount() {\n    this.setState({ loading: true });\n    API_themoviedb.fetchPopularFilms()\n\n      .then(({ results }) => this.setState({ popularFilms: results }))\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  }\n\n  render() {\n    const { popularFilms, error } = this.state;\n    const { location } = this.props;\n    return (\n      <>\n        {error && <Error message={`Whoops ${error.message}`} />}\n\n        <h1>Trending today</h1>\n\n        {popularFilms.length > 0 && (\n          <PopularFilms films={popularFilms} location={location} />\n        )}\n      </>\n    );\n  }\n}\n"],"sourceRoot":""}