(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[2],{53:function(t,e,n){"use strict";var r=n(58),a=n.n(r),c=n(59),i=n(60),s=n.n(i);s.a.defaults.baseURL="https://api.themoviedb.org/3";var o="1d916c0c07d2a239e775f6755e7dcee9",h=function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l("/movie/".concat(e,"/reviews?api_key=").concat(o)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",s.a.get(e).then((function(t){return t.data})));case 4:throw t.prev=4,t.t0=t.catch(0),t.t0;case 7:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(e){return t.apply(this,arguments)}}();e.a={fetchPopularFilms:function(){return fetch("".concat("https://api.themoviedb.org/3","/trending/movie/day?api_key=").concat(o)).then((function(t){return t.json()}))},fetchFilmDetails:function(t){return l("/movie/".concat(t,"?api_key=").concat(o))},fetchFilmWithQuery:function(t){return l("/search/movie?api_key=".concat(o,"&query=").concat(t,"&page=1&include_adult=false"))},fetchFilmActors:function(t){return l("/movie/".concat(t,"/credits?api_key=").concat(o))},fetchFilmReviews:h}},94:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return v}));var r=n(54),a=n(55),c=n(57),i=n(56),s=n(0),o=n(10),h=n(3),l=n(53),u=n(1),p=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).state={filmActors:[]},t}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.movieId;l.a.fetchFilmActors(e).then((function(e){var n=e.cast;return t.setState({filmActors:n})}))}},{key:"render",value:function(){var t=this.state.filmActors;return Object(u.jsx)("ul",{children:t.map((function(t){var e=t.id,n=t.profile_path,r=t.name,a=t.character;return Object(u.jsxs)("li",{children:[Object(u.jsx)("img",{className:"photoActor",src:"http://image.tmdb.org/t/p/w500".concat(n),alt:""}),Object(u.jsx)("p",{children:r}),Object(u.jsx)("p",{children:a})]},e)}))})}}]),n}(s.Component),j=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).state={review:[]},t}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.movieId;l.a.fetchFilmReviews(e).then((function(e){var n=e.results;return t.setState({review:n})}))}},{key:"render",value:function(){var t=this.state.review;return Object(u.jsxs)(u.Fragment,{children:[0===t.length&&Object(u.jsx)("p",{children:"We don't have any reviews for this movie"}),t.length>0&&Object(u.jsx)("ul",{children:t.map((function(t){var e=t.id,n=t.author,r=t.content;return Object(u.jsxs)("li",{children:[Object(u.jsx)("h2",{children:n}),Object(u.jsx)("p",{children:r})]},e)}))})]})}}]),n}(s.Component),m=n(8),v=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).state={aboutFilm:null},t.handleGoBack=function(){var e=t.props.location.state;if(e&&e.from)return t.props.history.push(e.from);t.props.history.push(m.a.moviesPage)},t}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.movieId;l.a.fetchFilmDetails(e).then((function(e){return t.setState({aboutFilm:e})}))}},{key:"render",value:function(){var t=this.state.aboutFilm,e=this.props,n=e.match,r=e.location,a=m.a.cast,c=m.a.reviews;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{onClick:this.handleGoBack,children:" \u21d0 Go back"}),t&&Object(u.jsxs)("div",{className:"MovieDetails",children:[Object(u.jsx)("div",{className:"MovieDetailsImage",children:Object(u.jsx)("img",{src:"http://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:t.title})}),Object(u.jsxs)("div",{className:"MovieDetailsAbout",children:[Object(u.jsxs)("h1",{children:[t.original_title,"(",new Date(t.release_date).getFullYear(),")"]}),Object(u.jsxs)("p",{children:["User Scores: ",10*t.vote_average,"%"]}),Object(u.jsx)("h2",{children:"Overview"}),Object(u.jsx)("p",{children:t.overview}),Object(u.jsx)("h2",{children:"Genres"}),Object(u.jsx)("ul",{children:t.genres.map((function(t){var e=t.id,n=t.name;return Object(u.jsx)("li",{children:n},e)}))})]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Additional information"}),Object(u.jsxs)("ul",{className:"addInformation",children:[Object(u.jsx)("li",{children:Object(u.jsx)(o.b,{to:{pathname:"/movies/".concat(n.params.movieId,"/cast"),state:{from:r}},children:"Cast"})}),Object(u.jsx)("li",{children:Object(u.jsx)(o.b,{to:{pathname:"/movies/".concat(n.params.movieId,"/reviews"),state:{from:r}},children:"Reviews"})})]}),Object(u.jsx)(h.b,{path:a,component:p}),Object(u.jsx)(h.b,{path:c,component:j})]})]})}}]),n}(s.Component)}}]);
//# sourceMappingURL=MoviesDetailsPage-page.055261fb.chunk.js.map